local a=next;local b={game.ReplicatedStorage.Util,game.ReplicatedStorage.Common,game.ReplicatedStorage.Remotes,game.ReplicatedStorage.Assets,game.ReplicatedStorage.FX}local c=nil;local d=nil;local e=nil;while true do local f;c,f=a(b,c)if c==nil then break end;local g=next;local h,i=f:GetChildren()while true do local j;i,j=g(h,i)if i==nil then break end;if j:IsA("RemoteEvent")and j:GetAttribute("Id")then e=j:GetAttribute("Id")d=j end end;f.ChildAdded:Connect(function(k)if k:IsA("RemoteEvent")and k:GetAttribute("Id")then e=k:GetAttribute("Id")d=k end end)end;task.spawn(function()while task.wait(0.0001)do local l=game.Players.LocalPlayer.Character;local m;if l then m=l:FindFirstChild("HumanoidRootPart")else m=l end;local n,o,p=ipairs({workspace.Enemies,workspace.Characters})local q={}while true do local r;p,r=n(o,p)if p==nil then break end;local s,t,u=ipairs(r and r:GetChildren()or{})while true do local v;u,v=s(t,u)if u==nil then break end;local w=v:FindFirstChild("HumanoidRootPart")local x=v:FindFirstChild("Humanoid")if v~=l and(w and(x and(x.Health>0 and(w.Position-m.Position).Magnitude<=60)))then local y,z,A=ipairs(v:GetChildren())while true do local B;A,B=y(z,A)if A==nil then break end;if B:IsA("BasePart")and(w.Position-m.Position).Magnitude<=60 then q[#q+1]={v,B}end end end end end;local C=l:FindFirstChildOfClass("Tool")if#q>0 and(C and(C:GetAttribute("WeaponType")=="Melee"or C:GetAttribute("WeaponType")=="Sword"))then pcall(function()require(game.ReplicatedStorage.Modules.Net):RemoteEvent("RegisterHit",true)game.ReplicatedStorage.Modules.Net["RE/RegisterAttack"]:FireServer()local D=q[1][1]:FindFirstChild("Head")if D then game.ReplicatedStorage.Modules.Net["RE/RegisterHit"]:FireServer(D,q,{},tostring(game.Players.LocalPlayer.UserId):sub(2,4)..tostring(coroutine.running()):sub(11,15))cloneref(d):FireServer(string.gsub("RE/RegisterHit",".",function(E)return string.char(bit32.bxor(string.byte(E),math.floor(workspace:GetServerTimeNow()/10%10)+1))end),bit32.bxor(e+909090,game.ReplicatedStorage.Modules.Net.seed:InvokeServer()*2),D,q)end end)end end end)